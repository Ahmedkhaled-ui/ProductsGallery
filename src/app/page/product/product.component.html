<div
  class="min-h-screen bg-white dark:bg-gray-900 px-4 py-6 text-gray-900 dark:text-white"
>
  <div class="mx-auto">
    <div
      class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-10"
    >
      <input
        [(ngModel)]="searchByName"
        type="text"
        placeholder="Search products..."
        class="border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-800 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 px-4 py-2 rounded w-full max-w-xs focus:outline-none focus:ring focus:border-blue-500"
      />
      <select
        [(ngModel)]="searchByOption"
        class="border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-800 dark:text-white px-4 py-2 rounded w-full max-w-xs focus:outline-none focus:ring focus:border-blue-500"
      >
        <option value="" disabled selected hidden>Sort By</option>
        <option value="reset">Reset</option>
        <option value="priceAsc">Price: Low to High</option>
        <option value="priceDesc">Price: High to Low</option>
        <option value="nameAsc">Name: A-Z</option>
        <option value="nameDesc">Name: Z-A</option>
      </select>
    </div>

    <div class="grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4">
      @if (showProduct) { @for (product of products() | filterByName
      :searchByName | filterBySort:searchByOption ; track $index) {
      <a
        [routerLink]="['/productDedails', product.id]"
        class="bg-gray-100 dark:bg-gray-800 rounded-lg p-4 group hover:scale-105 shadow hover:shadow-lg transition"
      >
        <img
          [src]="product.image"
          alt="{{ product.title }}"
          class="h-40 w-full object-contain mb-4 hover:h-40"
        />
        <h3 class="text-lg font-semibold text-gray-800 dark:text-white">
          {{ product.title.split(" ").slice(0, 3).join(" ") }}
        </h3>
        <p class="text-blue-600 dark:text-blue-400 font-bold">
          ${{ product.price }}
        </p>
        <a
          [routerLink]="['/productDedails', product.id]"
          class="text-sm text-blue-500 dark:text-blue-300 hover:underline"
        >
          View Details
        </a>
      </a>
      } }@else { @for (item of [].constructor(20); track $index) {
      <a
        class="bg-gray-100 dark:bg-gray-800 rounded-lg p-4 shadow transition animate-pulse cursor-wait select-none"
      >
        <div
          class="h-40 w-full bg-gray-300 dark:bg-gray-700 mb-4 rounded object-contain"
        ></div>
        <div class="h-6 w-3/4 bg-gray-300 dark:bg-gray-700 mb-2 rounded"></div>
        <div class="h-5 w-1/4 bg-blue-300 dark:bg-blue-700 rounded"></div>
        <div
          class="h-4 w-1/3 bg-blue-300 dark:bg-blue-700 mt-4 rounded"
        ></div> </a
      >} }
    </div>
  </div>
</div>
